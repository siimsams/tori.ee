<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./input.css" rel="stylesheet">
  <title>Tori Matkakeskus</title>
</head>

<body class="text-2xl">
  <nav id="navBar" class="3xl:w-[1950px] xl:px-36 px-6 py-5 z-20 top-0 w-full mx-auto center flex items-center justify-between flex-wrap bg-white">
    <language class="z-20 space-x-3">
      <a href="index.html" class="underline">EST</a>
      <a href="./en/index.html" class="hover:underline">ENG</a>
    </language>
    <menu class="hidden lg:block space-x-3">
      <a href="#order" class="hover:underline">Telli matk</a>
      <a href="#prices" class="hover:underline">Hinnad</a>
      <a href="./more_info.html" class="hover:underline">Teenustest</a>
      <a href="#location" class="hover:underline">Asukoht</a>
    </menu>
    <button id="menuButton" class="lg:hidden block z-20">
      <svg id="openIcon" class="h-6 w-6 fill-current text-gray-500" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
        <path d="M4 11h16v2H4zm0-8h16v2H4zm0 16h16v2H4z"/>
      </svg>
      <svg id="closeIcon" class="h-6 w-6 fill-current text-gray-500 hidden" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
        <path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div id="menu" class="fixed z-10 top-0 left-0 w-screen h-screen bg-white bg-opacity-90 hidden grid place-items-center">
      <ul class="space-y-8 text-center">
        <li>
          <a href="#order">Telli matk</a>
        </li>
        <li>
          <a href="#prices">Hinnad</a>
        </li>
        <li>
          <a href="./more_info.html">Teenustest</a>
        </li>
        <li>
          <a href="#location">Asukoht</a>
        </li>
      </ul>
    </div>
  </nav>
  <header class="h-[85vh] grid items-center relative text-white">
    <div class="3xl:w-[1950px] 3xl:mx-auto xl:pl-36 pl-6 z-0">
      <h1 class="lg:text-7xl text-5xl break-all font-sans">Tori</br>Matkakeskus</h1>
      <p class="mb-6 max-w-[520px]">Elamusterohked kanuumatkad Pärnumaa jõgedel ja vibujahid looduses aastast 1996.</p>
      <a href="#order" class="px-10 py-3 border-[3px] border-white border-solid">Telli matk</a>
    </div>
    <video id="myVideo" autoplay muted loop playsinline class="h-full w-full object-cover max-w-none brightness-[0.75] -z-10 absolute top-0 left-0" poster="media/hero_video.jpg">
      <source src="media/hero_video.webm" type="video/webm">
      <source src="media/hero_video.mp4" type="video/mp4">
    </video>
  </header>
  <section class="flex justify-center flex-col py-8 overflow-hidden text-center">
    <h2 class="pb-10 text-4xl">Arvustused räägivad enda eest</h2>
    <div class="flex items-center justify-center">
      <ul class="flex overflow-x-auto">
        <li class="flex flex-col items-center flex-shrink-0 px-7">
          <a href="https://g.page/r/CYRaQUeDwn_ZEB0/review">
            <img class="h-[100px] w-[100px] object-contain mx-auto" src="./media/Google_logo.png" alt="Google Logo">
            <p>Google</p>
          </a>
        </li>
        <li class="flex flex-col items-center flex-shrink-0 px-7">
          <a href="https://www.facebook.com/torimatkakeskus">
            <img class="h-[100px] w-[100px] object-contain mx-auto" src="./media/facebook_logo.svg" alt="Facebook Logo">
            <p>Facebook</p>
          </a>
        </li>
        <li class="flex flex-col items-center flex-shrink-0 px-7">
          <a href="#">
            <img class="h-[100px] w-[100px] object-contain mx-auto" src="./media/tripadvisor-logo.svg" alt="Tripadvisor Logo">
            <p>Tripadvisor</p>
          </a>
        </li>
      </ul>
    </div>
  </section>
  <section class="3xl:w-[1950px] mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 py-8">
    <div id="canoe" class="relative">
      <div class="flex flex-col justify-center items-center text-center text-white p-4 aspect-square flex-shrink-0 relative z-10">
        <h2 class="text-center text-4xl">Kanuumatkad</h2>
        <p>Tori Matkakeskus pakub Soomaa piirkonnas meeldejäävaid kanuumatka elamusi. Kanuumatkad leiavad aset Pärnu jõel, mis on tuntud oma loodusliku ilu ja rahuliku vee poolest. Matka pikkus on kohandatav teie soovide järgi. Gruppidele alates kahest inimesest.</p>
        <a href="more_info.html" class="mt-4 px-10 py-3 border-[3px] border-white border-solid">Loe rohkem</a>
      </div>
      <img src="./media/kanuu-blur-grain.jpg" alt="Canoe" class="absolute inset-0 w-full h-full object-cover object-center filter brightness-[0.40] z-0">
    </div>
    <div id="bow-hunting" class="relative">
      <div class="flex flex-col justify-center items-center text-center text-white p-4 aspect-square flex-shrink-0 relative z-10">
        <h2 class="text-center text-4xl">Vibujahid</h2>
        <p>Vibujahid toimuvad matkakeskuse lähedal metsas. Seal on üles seatud 12 vibumatiga rada, rajale on paigutatud märklehed, milledel on kujutatud erinevaid loomi ja linde. Võidab enim punkte kogunud noolekütt. Gruppidele alates kuuest inimesest.</p>
        <a href="more_info.html" class="mt-4 px-10 py-3 border-[3px] border-white border-solid">Loe rohkem</a>
      </div>
      <img src="./media/vibu-blur-grain.jpg" alt="Bow Hunting" class="absolute inset-0 w-full h-full object-cover object-center filter brightness-[0.60] z-0">
    </div>
    <div id="sauna" class="relative">
      <div class="flex flex-col justify-center items-center text-center text-white p-4 aspect-square flex-shrink-0 relative z-10">
        <h2 class="text-center text-4xl">Saunad</h2>
        <p>Pärast aktiivset päeva on võimalik lõõgastuda Pärnu jõe kaldal asuvas kümblustünnis või saunas. Kümblustünn mahutab kuni 10 inimest.</p>
        <a href="more_info.html" class="mt-4 px-10 py-3 border-[3px] border-white border-solid">Loe rohkem</a>
      </div>
      <img src="./media/saun-blur-grain.jpg" alt="Sauna" class="absolute inset-0 w-full h-full object-cover object-center filter brightness-[0.75] z-0">
    </div>
  </section>
  <section id="prices" class="3xl:w-[1950px] mx-auto">
    <ul class="xl:px-36 px-6 grid grid-cols-1 md:grid-cols-4 gap-4">
      <li class="flex flex-col items-center">
        <h2 class="text-center text-3xl">Hinnad</h2>
        <p class="text-center">Soodustused sõltuvalt grupi suurusest ja matka toimumise päevast. Küsi soodustust meilitsi või telefonitsi. Kõik hinnad sisaldavad käibemaksu.</p>
      </li>
      <li class="flex flex-col items-center">
        <h2 class="text-center text-3xl">Kanuu</h2>
        <p class="text-center">Koolilapsed: 10€ inimene</p>
        <p class="text-center">Täiskasvanud: 25€ inimene</p>
        <p class="text-center">Tunnisõit Toris: 10€ inimene</p>
      </li>
      <li class="flex flex-col items-center">
        <h2 class="text-center text-3xl">Vibu</h2>
        <p class="text-center">Vibujaht: 20€ inimene</p>
      </li>
      <li class="flex flex-col items-center">
        <h2 class="text-center text-3xl">Saun</h2>
        <p class="text-center">Kümblustünn: 100€ õhtu</p>
        <p class="text-center">Saun: 100€ õhtu</p>
      </li>
    </ul>
  </section>
  <section class="3xl:w-[1950px] mx-auto xl:px-36 px-6 py-10 grid grid-cols-1 md:grid-cols-2 md:gap-5">
    <div class="md:col-span-1">
      <div id="order" class="w-full">
        <h2 class="text-center text-4xl">Telli matk</h2>    
        <form id="order-form" class="space-y-4" method="post" action="mail.php">
          <div class="flex flex-col items-end">
            <label for="name" class="self-start">Täisnimi</label>
            <input type="text" name="name" id="name" class="py-2 w-full border-[3px] border-black border-solid" required>
          </div>
          <div class="flex flex-col items-end">
            <label for="email" class="self-start">Email</label>
            <input type="email" name="email" id="email" class="py-2 w-full border-[3px] border-black border-solid" required>
          </div>
          <div class="flex flex-col items-end">
            <label for="phone" class="self-start">Kontakttelefon</label>
            <input type="tel" name="phone" id="phone" class="py-2 w-full border-[3px] border-black border-solid" required>
          </div>
          <div class="flex flex-col items-end">
            <label for="message" class="self-start">Tellimuse kirjeldus</label>
            <textarea name="message" id="message" cols="30" rows="6" class="w-full border-[3px] border-black border-solid" required></textarea>
          </div>
          <input id="hiddentoken" type="hidden" name="token">
          <button type="button" class="g-recaptcha w-full px-10 py-2 border-[3px] border-black border-solid" data-sitekey="6Lf97qkaAAAAAEm2DF9a2gyaRilWaekl7Zu4_FlB" data-callback="onSubmit" data-action="submit">Saada tellimus</button>
        </form>
        <div id="success" class="h-[622px] flex flex-col justify-center items-center hidden">
          <img class="h-[400px] w-[400px]" src="./media/circle_green_checkmark.svg">
          <h2 class="text-center text-4xl pt-4">Tellimus edastati edukalt</h2>
        </div>  
        <h2 id="failure" class="text-red-500 pt-3 text-center hidden">Meil läks midagi valesti. Proovi uuesti või helista meile.</h2>
      </div>
      <div id="contact" class="text-center py-6">
        <h2 class="text-center text-4xl">Või helista meile</h2>
        <p>Silver Sams</p>
        <p>+372 511 4245</p>
        <p>silver@tori.ee</p>
      </div>
    </div>
    <div id="location" class="flex flex-col md:col-span-1 pb-6">
      <h2 class="text-center text-4xl mb-4">Asukoht</h2>
      <iframe class="flex-grow w-full min-h-[400px]" src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d8343.075522572108!2d24.8108362!3d58.4815636!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46ece6573013f239%3A0xd97fc28347415a84!2sTori%20Matkakeskus!5e0!3m2!1sen!2see!4v1688407668603!5m2!1sen!2see" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </section>
  <script src="https://www.google.com/recaptcha/api.js"></script>
  <script>
    const menuButton = document.getElementById('menuButton');
    const openIcon = document.getElementById('openIcon');
    const closeIcon = document.getElementById('closeIcon');
    const navBar = document.getElementById('navBar');
    const menu = document.getElementById('menu');
    const success = document.getElementById("success");
    const failure = document.getElementById("failure");
    const form = document.getElementById("order-form");

    menuButton.addEventListener('click', toggleMenu);

    function toggleMenu() {
      if (menu.classList.contains('hidden')) {
        navBar.classList.add('sticky');
        openIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
        menu.classList.remove('hidden');
      } else {
        menu.classList.add('hidden');
        openIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
        navBar.classList.remove('sticky');
      }
    }

    document.querySelectorAll('#menu a').forEach((link) => {
      link.addEventListener('click', () => {
        toggleMenu();
      });
    });

    function onSubmit(token) {
      // Check if the form is valid
      if (!form.reportValidity()) {
          return;
      }

      document.getElementById("hiddentoken").value = token;

      // use Fetch API to send the form data
      fetch(form.action, {
          method: form.method,
          body: new FormData(form),
      })
      .then(response => response.json())
      .then(data => {
          if (data.success) {
              form.reset();  // reset form if the submission was successful
              success.classList.remove('hidden');
              form.classList.add('hidden');
              failure.classList.add('hidden');
          } else {
              failure.classList.remove('hidden');
          }
      })
      .catch((error) => {
        failure.classList.remove('hidden');
      });
    }
  </script>
</body>

</html>